<head>
    <meta name="viewport" http-equiv="Cache-control" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="data:image/x-icon;
    base64,AAABAAEAAQEAAAEAIAAwAAAAFgAAACgAAAABAAAAAgAAAAEAIAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAPAAAAAA=="/>

    <link rel="stylesheet" href="../static/css/bulma.css">
    <link rel="stylesheet" href="../static/css/elements.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.0/css/all.css">
</head>
<div id="vue-target">
    <nav class="navbar is-danger">
        <div class="level is-mobile">
            <div class="level-left">
                <div class="level-item">
                    <!-- left dropdown sidenavbar -->

                        <span class="button" onclick="openNav()"><i class="fa fa-bars fa-fw"></i></span>

                    <div id="mySidenav" class="sidenav">
                        <a onclick="closeNav()" href="javascript:void(0)" class="closebtn">&times;</a>
                        <div class="navbar-item">
                            <a href="home_page">Home Cocaine Page</a>
                        </div>
                        <div class="navbar-item">
                            <a href="submit_trip_report_page">New Trip Report</a>
                        </div>
                        <div class="navbar-item">
                            <a href="journey_safe_page">Journey Safe</a>
                        </div>
                        <div class="navbar-item">
                            <a href="map_page">Map</a>
                        </div>
                        <!--<div class="navbar-item">
                            <a href="[[=URL('books_movies')]]">Books & Movies</a>
                        </div>-->
                        <div class="navbar-item">
                            <a href="create_profile_page">My Profile</a>
                        </div>
                        <div class="navbar-item">
                            <li class="dropdown-btn">For TripSitters
                                <i class="fa fa-caret-down"></i>
                                <div class="dropdown-content">
                                    <a>Tripsit for Others</a>
                                    <a>Become a Tripsitter</a>
                                </div>
                            </li>
                        </div>

                        <div class="navbar-item">
                            <li class="dropdown-btn">For Journeyers
                                <i class="fa fa-caret-down"></i>
                                <div class="dropdown-content">
                                    <a href ="local_tripsitters" >Find a Tripsitter</a>
                                    <a>Journey Alone</a>
                                </div>
                            </li>
                        </div>
                        <div class="navbar-item">
                            <a href="need_help">Find Help</a>
                        </div>
                        <div class="navbar-item">
                            <a href="auth/logout">Sign out</a>
                        </div>
                    </div>

                </div>
                <div class="level-item">
                    <div class="navbar-header">
                        LSDWORLD: The Lifestyle App for Psychonauts
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <!-- beginning of HTML inserted by extending template -->
    <!--[[include]]-->
</div>
<div id="vue-target" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-bind="http://www.w3.org/1999/xhtml">
    <section class="section">
        <nav class="navbar is-danger">
            <header><h1>New Trip Report</h1></header>
        </nav>

        <form method="POST" action="submit_trip_report"
              id="trip_report_form" enctype="multipart/form-data">
            <!--Report Title Field -->
            <div class="field">
                <label for="title" class="label">Title</label>
                <div class="control">
                    <input type="text" id="input_title" name="title" class="input">
                </div>
            </div>
            <!--Substances Field -->
            <div class="hero is-deeppink">Substances</div>
            <br>
            <div class="level is-mobile">
                <div class="level-left">
                    <div class="level-item">
                           <div class="field">
                            <input list="substance_list" name="substance_name"
                                   id="substances" placeholder="search for substances">
                            <datalist id="substance_list">
                                <option v-for="substance in substance_list">{{ substance }}</option>
                            </datalist>
                        </div>
                    </div>
                </div>
            </div>

            <div class="level is-mobile">
                <div class="level-left">
                    <div class="level-item">
                        <div class="field">
                            <input list="dosage_units_list" name="dosage_units"
                                   id="input_dosage_units" placeholder="mcg">
                            <datalist id="dosage_units_list">
                                <option v-for="dose in dosage_units_list">{{ dose }}</option>
                            </datalist>
                        </div>
                    </div>
                </div>
            </div>

            <!--Dosage Field -->
            <div class="level is-mobile">
                <div class="level-left">
                    <div class="level-item">
                        <div class="field">
                            <input list="list" name="dosage_amount"
                                   id="input dosage_amount" placeholder="dose">
                            <datalist id="list">
                                <option></option>
                            </datalist>
                        </div>
                    </div>
                 <!--   <div class="level-item">
                        <div class="field">
                            <input list="dosage_units_list" name="dosage_units"
                                   id="input_dosage_units" placeholder="mcg">
                            <datalist id="dosage_units_list">
                                <option v-for="dose in dosage_units_list">{{ dose }}</option>
                            </datalist>
                        </div>
                    </div>-->

                    <div class="level-item">

                        <div type="button" v-on:click="toggle_add_substance"
                             class="button is-danger">
                            <i class="fas fa-plus fa-2x"></i>
                        </div>
                        <div class="add_substance_box">
                            add substance
                        </div>
                    </div>
                </div>
            </div>
            <div v-if="add_substance">
                <!--Substances Field -->
            <div class="level">
                <div class="level-left">
                    <div class="level-item">
                        <div class="field">
                            <input list="substance_list" name="journey_substance_name"
                                   id="substances" placeholder="search for substances">
                            <datalist id="substance_list">
                                <option v-for="substance in substance_list">{{ substance }}</option>
                            </datalist>
                        </div>
                    </div>
                    <div class="level-item">
                        <div class="notification">
                           <strong>The recommended dose of cocaine is 50mg</strong>
                            <a class="delete"></a>
                        </div>
                    </div>
                </div>
            </div>

            <!--Dosage Field -->
            <div class="level is-mobile">
                <div class="level-left">
                    <div class="level-item">
                        <div class="field">
                            <input list="list" name="dosage_amount"
                                   id="input_dosage_amount" placeholder="dose">
                            <datalist id="list">
                                <option></option>
                            </datalist>
                        </div>
                    </div>
                    <div class="level-item">
                        <div class="field">
                            <input list="dosage_units_list" name="dosage_units"
                                   id="input_dosage_units" placeholder="mcg">
                            <datalist id="dosage_units_list">
                                <option v-for="dose in dosage_units_list">{{ dose }}</option>
                            </datalist>
                        </div>
                    </div>
                    <div class="level-item">
                        <div type="button" class="button is-danger">
                            <i class="fas fa-plus fa-2x"></i>
                        </div>
                        <div class="add_substance_box">
                            add substance
                        </div>
                    </div>
                </div>
            </div>
            </div>

            <!--Report Content Field -->
            <div class="field">
                <label for="input_report_content" class="label">
                    <div class="hero is-deeppink">Trip Report</div>
                </label>
                <div class="control">
             <textarea type="text" cols="30" class="textarea" name="report_content"
                       form="trip_report_form" id="input_report_content"></textarea>
                </div>
            </div>

            <div class="hero is-deeppink">Additional Information</div>
            <br>
            <div class="level is-mobile">
                <div class="level-left">
                    <div class="level-item">
                        <!--Difficult Headspace Field -->
                        <div class="field">
                            <label for="dif_headspace" class="label">Difficult Headspace</label>
                            <div class="control">
                                <input type="checkbox" id="input_dif_headspace" value="True" name="dif_headspace"
                                       class="checkbox">
                            </div>
                        </div>
                    </div>
                    <div class="level-item">
                        <!--Anti-Depressant Field -->
                        <div class="field">
                            <label for="anti_depress" class="label">Anti-Depressants</label>
                            <div class="control">
                                <input type="checkbox" id="input_anti_depress" name="anti_depress" class="checkbox">
                            </div>
                        </div>
                    </div>
                    <div class="level-item">
                        <!--Festival Field-->
                        <div class="field">
                            <label for="at_festival" class="label">At a Festival?</label>
                            <div class="control">
                                <input type="checkbox" id="input_at_a_festival" name="at_festival" class="checkbox">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--Submit Button Field -->
            <div class="field">
                <div class="control">
                    <button type="submit" value="Submit" class="button2">Submit</button>
                </div>
            </div>
        </form>
    </section>
</div>


<script>
    let fetch_substance_table = "[[=XML(fetch_substance_table)]]"
    let fetch_trip_reports = "[[=XML(fetch_trip_reports)]]"
    let fetch_profile_fields = "[[=XML(fetch_profile_fields)]]"
    let fetch_tags = "[[=XML(fetch_tags)]]";
</script>
<script src="../static/js/utils.js"></script>
  <script src=
"https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.js">
    </script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
<script src="../static/js/home_page.js"></script>
<script  src="../static/js/vue.js"  ></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



